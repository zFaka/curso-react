{"ast":null,"code":"import { types } from \"../types/types\";\nimport { firebase, googleAuthProvider } from '../firebase/firebase-config';\nimport { uiFinishLoading, uiStartLoading } from \"./ui\";\nimport Swal from 'sweetalert2';\nimport { logoutNote } from \"./notes\";\nexport const startLoginEmailPass = (email, password) => {\n  return dispatch => {\n    dispatch(uiStartLoading());\n    firebase.auth().signInWithEmailAndPassword(email, password).then(({\n      user\n    }) => {\n      dispatch(login(user.uid, user.displayName));\n      dispatch(uiFinishLoading());\n    }).catch(e => {\n      console.log(e);\n      dispatch(uiFinishLoading());\n      Swal.fire('Error', e.message, 'error');\n    });\n  };\n};\nexport const startRegEmailPassName = (name, email, password) => {\n  return dispatch => {\n    firebase.auth().createUserWithEmailAndPassword(email, password).then(async ({\n      user\n    }) => {\n      await user.updateProfile({\n        displayName: name\n      });\n      dispatch(login(user.uid, user.displayName));\n    }).catch(e => {\n      console.log(e);\n      Swal.fire('Error', e.message, 'error');\n    });\n  };\n};\nexport const startGoogleLogin = () => {\n  return dispatch => {\n    firebase.auth().signInWithPopup(googleAuthProvider).then(({\n      user\n    }) => {\n      console.log(user.displayName, user.uid);\n    });\n  };\n};\nexport const login = (uid, displayName) => ({\n  type: types.login,\n  payload: {\n    uid,\n    displayName\n  }\n});\nexport const startLogout = () => {\n  return async dispatch => {\n    await firebase.auth().signOut();\n    dispatch(logout());\n    dispatch(logoutNote());\n  };\n};\nexport const logout = () => ({\n  type: types.logout\n});","map":{"version":3,"sources":["/home/f/Documents/curso-react/08-journal-app/src/actions/auth.js"],"names":["types","firebase","googleAuthProvider","uiFinishLoading","uiStartLoading","Swal","logoutNote","startLoginEmailPass","email","password","dispatch","auth","signInWithEmailAndPassword","then","user","login","uid","displayName","catch","e","console","log","fire","message","startRegEmailPassName","name","createUserWithEmailAndPassword","updateProfile","startGoogleLogin","signInWithPopup","type","payload","startLogout","signOut","logout"],"mappings":"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","sourcesContent":["import {types} from \"../types/types\";\nimport {firebase, googleAuthProvider} from '../firebase/firebase-config';\nimport {uiFinishLoading, uiStartLoading} from \"./ui\";\nimport Swal from 'sweetalert2'\nimport {logoutNote} from \"./notes\";\n\n\n\nexport const startLoginEmailPass = (email, password) => {\n  return (dispatch) => {\n    dispatch(uiStartLoading())\n    firebase.auth().signInWithEmailAndPassword(email, password)\n      .then(({user}) => {\n        dispatch(login(user.uid, user.displayName))\n        dispatch(uiFinishLoading())\n      })\n      .catch(e => {\n        console.log(e)\n        dispatch(uiFinishLoading())\n        Swal.fire('Error', e.message, 'error')\n      })\n  }\n}\n\n\n\nexport const startRegEmailPassName = (name, email, password ) => {\n\n\n  return (dispatch) => {\n\n\n    firebase.auth().createUserWithEmailAndPassword(email, password)\n      .then( async ({user}) => {\n\n        await user.updateProfile({displayName:name});\n\n        dispatch(\n          login(user.uid, user.displayName))\n      })\n      .catch(e => {\n        console.log(e)\n        Swal.fire('Error', e.message, 'error')\n      })\n  }\n\n};\n\n\n\nexport const startGoogleLogin = () => {\n  return (dispatch) => {\n\n    firebase.auth().signInWithPopup(googleAuthProvider) \n      .then(({user}) => {\n        console.log(user.displayName, user.uid )\n      })\n  }\n\n};\n\n\n\nexport const login = (uid, displayName) => ({\n\n  type:types.login, \n  payload:{\n\n    uid, \n    displayName\n  }\n})\n\n\n\nexport const startLogout = () => {\n\n  return async(dispatch) => {\n    await firebase.auth().signOut()\n    dispatch(logout())\n    dispatch(logoutNote())\n  }\n\n}\n\n\n\nexport const logout = () => ({\n  type:types.logout\n});\n"]},"metadata":{},"sourceType":"module"}